let acceptWordList = {
  "به": ['ب'],
  "تو": ['ت'],
  "چه": ["چ"],
  "سه": ['س'],
  "که": ['ک'],
  "یه": ['ی'],

  "بَه": ['به'],
  "چَه": ['چه'],


  "ادبان": ['ا', 'د', 'با'],
  "آرش": ["ءا", 'رش'],

  "آب": ["ءا", 'ب'],
  "آن": ["ءا", 'ن'],
  "این":['ای', 'ن'],
  

  "آغوشمان": ["ءا", 'غو', 'ش', 'ما'],
  "آغوشتان": ["ءا", 'غو', 'ش', 'تا'],
  "آغوششان": ["ءا", 'غو', 'ش', 'شا'],
  "آلمانی": ["ءا", 'ل', 'ما', 'نی'],
  
  
  "برا": ['ب', 'را'],
  "برای": ['ب', 'را', 'ی'],
  "بچه": ['ب', 'چه'],
  "بلبل": ['بل', 'بل'],
  "بیابان": ['ب', 'یا', 'با'],
  "بسوز":['ب', 'سو', 'ز'],


  "زنان":['ز', 'نا'],

  "سیاهی": ['سی', 'یا', 'هی'],
  
  "شَوی": ['ش', 'وی'],
  "چرا": ['چ', 'را'],

  "مبادا":['م', 'با', 'دا'],
  "ماهی": ['ما', 'هی'],
  "بیا":['بی', 'یا'],
  "نیاز":['نی', 'یا', 'ز'],
  "نمک":['ن', 'مک'],
  "حرامان":['ح', 'را', 'ما'],
  "چو": ['چ'],
  "رفاقت":['ر', 'فا', 'قت'],
  "بساز":['ب', 'سا', 'ز'],
  "مسیر":['م', 'سی', 'ر'],
  "توام":['تو', 'ام'],
  "کنون":['ک', 'نو'],
  "نفرین":['نف', 'ری'],
  "گویمت":['گو', 'ی', 'مت'],
  "دعای":['د', 'عا', 'ی'],
  "دیازپام":['دی', 'یا', 'ز', 'پا', 'م'],
  "نماز":['ن', 'ما', 'ز'],
  "همچو": ['هم', 'چ'],
  "گریبان":['گ', 'ری', 'با']
}
let wordList = {
  ...acceptWordList,

  "نه": ['ن'],
  "همه": ['ه', 'م'],
  "اما": ['ا', 'ما'],
  "بزن": ['ب', 'زن'],
  "بدن": ['ب', 'دن'],
  "بمش": ['ب', 'مش'],
  "تنم": ['ت', 'نم'],
  "تنت": ['ت', 'نت'],
  "تنش": ['ت', 'نش'],
  "سرم": ['س', 'رم'],
  "دهم": ['د', 'هم'],
  "دهی": ['د', 'هی'],
  "دهد": ['د', 'هد'],
  "زره": ['ز', 'ره'],
  "قمر": ['ق', 'مر'],
  "سنم": ['س', 'نم'],
  "صبر": ['ص', 'بر'],
  "جنم": ['ج', 'نم'],
  "عجب": ['ع', 'جب'],
  "هوس": ['ه', 'وس'],
  "کنم": ['ک', 'نم'],
  "کمه": ['ک', 'مه'],
  "منم": ['م', 'نم'],
  "وطن": ['و', 'طن'],
  "زنم": ['ز', 'نم'],
  "زنت": ['ز', 'نت'],
  "زنش": ['ز', 'نش'],


  "شوی": ['شو', 'ی'],
  
  "انبار": ['ان', 'با', 'ر'],
  "ارزش": ['ار', 'زش'],
  "ارزد": ['ار', 'زد'],
  "آنتوان": ["ءا", "ن", "ت", "وا", "ن"],
  "آرشم": ["ءا", 'ر', 'شم'],
  "آرشت": ["ءا", 'ر', 'شت'],
  "آرشش": ["ءا", 'ر', 'شش'],
  "آرشمان": ["ءا", 'رش', 'ما'],
  "آرشتان": ["ءا", 'رش', 'تا'],
  "آرششان": ["ءا", 'رش', 'شا'],

  "آغوش": ["ءا", 'غو', 'ش'],
  "آغوشم": ["ءا", 'غو', 'شم'],
  "آغوشت": ["ءا", 'غو', 'شت'],
  "آغوشش": ["ءا", 'غو', 'شش'],
  
  "بند": ['بن', 'د'],
  "برایم": ['ب', 'را', 'یم'],
  "برایت": ['ب', 'را', 'یت'],
  "برایش": ['ب', 'را', 'یش'],
  "برایمان": ['ب', 'را', 'ی', 'ما'],
  "برایتان": ['ب', 'را', 'ی', 'تا'],
  "برایشان": ['ب', 'را', 'ی', 'شا'],
  "برام": ['ب', 'را', 'م'],
  "برات": ['ب', 'را', 'ت'],
  "براش": ['ب', 'را', 'ش'],
  "برامون": ['ب', 'را', 'مو', 'ن'],
  "براتون": ['ب', 'را', 'تو', 'ن'],
  "براشون": ['ب', 'را', 'شو', 'ن'],
  "بامدادی": ['با', 'م', 'دا', 'دی'],
  "بسیار": ['بس', 'یا', 'ر'],
  
  "باید": ['با', 'ید'],
  "بیشتر": ['بی', 'ش', 'تر'],
  "بیشترم": ['بی', 'ش', 'ت', 'رم'],
  "بیشترش": ['بی', 'ش', 'ت', 'رش'],

  "باهام": ['با', 'ها', 'م'],
  "باهات": ['با', 'ها', 'ت'],
  "باهاش": ['با', 'ها', 'ش'],

  "بدانم": ['ب', 'دا', 'نم'],
  "بدانی": ['ب', 'دا', 'نی'],
  "بداند": ['ب', 'دا', 'ند'],
  "بدانیم": ['ب', 'دا', 'نی', 'م'],
  "بدانید": ['ب', 'دا', 'نی', 'د'],
  "بدانند": ['ب', 'دا', 'نن', 'د'],

  "بدون": ['ب', 'دو', 'ن'],
  "بفروشم": ['بف', 'رو', 'شم'],
  "بفروشی": ['بف', 'رو', 'شی'],
  "بفروشد": ['بف', 'رو', 'شد'],
  "بفروشیم": ['بف', 'رو', 'شی', 'م'],
  "بفروشید": ['بف', 'رو', 'شی', 'د'],
  "بفروشند": ['بف', 'رو', 'شن', 'د'],

  "برهانم": ['ب', 'ر', 'ها', 'نم'],
  "برهانی": ['ب', 'ر', 'ها', 'نی'],
  "برهاند": ['ب', 'ر', 'ها', 'ند'],
  "برهانیم": ['ب', 'ر', 'ها', 'نی', 'م'],
  "برهانید": ['ب', 'ر', 'ها', 'نی', 'د'],
  "برهانند": ['ب', 'ر', 'ها', 'نن', 'د'],

  "بگرد": ['ب', 'گر', 'د'],
  "بگردم": ['ب', 'گر', 'دم'],
  "بگردی": ['ب', 'گر', 'دی'],
  "بگردد": ['ب', 'گر', 'دد'],
  "بگردیم": ['ب', 'گر', 'دی', 'م'],
  "بگردید": ['ب', 'گر', 'دی', 'د'],
  "بگردند": ['ب', 'گر', 'دن', 'د'],

  "برترین": ['بر', 'تر', 'ری', 'ن'],
  "برترم": ['بر', 'تر', 'م'],
  "برتری": ['بر', 'تر', 'ی'],
  "برتره": ['بر', 'تر', 'ه'],
  "برتریم": ['بر', 'تر', 'ری', 'م'],
  "برترید": ['بر', 'تر', 'ری', 'د'],
  "برترند": ['بر', 'تر', 'رن', 'د'],


  "پروانه": ['پر', 'وا', 'ن'],
  "پرنده": ['پ', 'رن', 'د'],
  "پیشرفت": ['پی', 'ش', 'رف', 'ت'],
  "پارس": ['پا', 'ر', 'س'],

  "تلخ": ['تل', 'خ'],
  "تجربه": ['تج', 'ر', 'ب'],
  
  "ترسو": ['تر', 'سو'],
  "تعریف": ['تع', 'ری', 'ف'],
  "تعریفی": ['تع', 'ری', 'فی'],
  "تعریفم": ['تع', 'ری', 'فم'], 
  "تعریفت": ['تع', 'ری', 'فت'], 
  "تعریفش": ['تع', 'ری', 'فش'], 
  "تلاش": ['ت', 'لا', 'ش'],
  "تلاشش": ['ت', 'لا', 'شش'],
  "تلاشم": ['ت', 'لا', 'شم'],
  "تلاشت": ['ت', 'لا', 'شت'],

  "خفتم": ['خف', 'تم'],
  "خفتی": ['خف', 'تی'],
  "خفت": ['خف', 'ت'],
  "خفته": ['خف', 'ته'],

  "جاهل": ['جا', 'هل'],

  "ژاپن": ['ژا', 'پ', 'ن'],
  "ژاپنی": ['ژا', 'پ', 'نی'],

  "روان": ['ر', 'وا', 'ن'],
  "روانم": ['ر', 'وا', 'نم'],
  "روانت": ['ر', 'وا', 'نت'],
  "روانش": ['ر', 'وا', 'نش'],

  "ربود": ['ر', 'بو', 'د'],
  "ربودم": ['ر', 'بو', 'دم'],
  "ربودی": ['ر', 'بو', 'دی'],
  "ربودش": ['ر', 'بو', 'دش'],

  "زنانه": ['ز', 'نا', 'نه'],

  
  "سخت": ['سخ', 'ت'],
  "سردمه": ['سر', 'د', 'م'],
  "سردم": ['سر', 'دم'],
  "سردت": ['سر', 'دت'],
  "سردش": ['سر', 'دش'],
  "سردمان": ['سر', 'د', 'ما'],
  "سردتان": ['سر', 'د', 'تا'],
  "سردشان": ['سر', 'د', 'شا'],
  "سردادم": ['سر', 'دا', 'دم'],
  "سردادی": ['سر', 'دا', 'دی'],
  "سرداد": ['سر', 'دا', 'د'],
  "سردادیم": ['سر', 'دا', 'دی', 'م'],
  "سردادید": ['سر', 'دا', 'دی', 'د'],
  "سردادند": ['سر', 'دا', 'دن', 'د'],

  "شب": ['ش', 'ب'],
  "شبی": ['ش', 'بی'],
  "شکوفه": ['ش', 'کو', 'ف'],
  "شراب": ['ش', 'را', 'ب'],
  "شرابم": ['ش', 'را', 'بم'],
  "شرابت": ['ش', 'را', 'بت'],
  "شرابش": ['ش', 'را', 'بش'],
  "شرابمان": ['ش', 'را', 'ب', 'ما', 'ن'],
  "شرابتان": ['ش', 'را', 'ب', 'تا', 'ن'],
  "شرابشان": ['ش', 'را', 'ب', 'شا', 'ن'],

  "زندگی": ['زن', 'د', 'گی'],
  "زندگیم": ['زن', 'د', 'گی', 'یم'],
  "زندگیت": ['زن', 'د', 'گی', 'یت'],
  "زندگیش": ['زن', 'د', 'گی', 'یش'],
  
  "زدم": ['ز', 'دم'],
  "زدی": ['ز', 'دی'],
  "زده": ['ز', 'ده'],
  "زدیم": ['ز', 'دی', 'م'],
  "زدید": ['ز', 'دی', 'د'],
  "زدند": ['ز', 'دن', 'د'],
  
  "زبان": ['ز', 'با', 'ن'],
  "زبانم": ['ز', 'با', 'نم'],
  "زبانت": ['ز', 'با', 'نت'],
  "زبانمان": ['ز', 'با', 'نم', 'ما'],
  "زمین": ['ز', 'می', 'ن'],
  "رنگین": ['رن', 'گی', 'ین'],

  "ربودمان":['ر', 'بو', 'د', 'ما'],
  "روانمان": ['ر', 'وا', 'ن', 'ما'],
  "روانتان": ['ر', 'وا', 'ن', 'تا'],
  "روانشان": ['ر', 'وا', 'ن', 'شا'],

  "روزگار": ['رو', 'ز', 'گا', 'ر'],
  "روزگاری": ['رو', 'ز', 'گا', 'ری'],
  "روزگارم": ['رو', 'ز', 'گا', 'رم'],
  "روزگارت": ['رو', 'ز', 'گا', 'رت'],
  "روزگارش": ['رو', 'ز', 'گا', 'رش'],
  "روزگارمان": ['رو', 'ز', 'گا', 'ر', 'ما'],
  "روزگارتان": ['رو', 'ز', 'گا', 'ر', 'تا'],
  "روزگارشان": ['رو', 'ز', 'گا', 'ر', 'شا'],

  "راضی": ['را', 'ضی'],
  
  "خلق": ['خل', 'ق'],
  "خوشبختی": ['خو', 'ش', 'بخ', 'تی'],
  "دوستیابی": ['دو', 'ست', 'یا', 'بی'],
  "دوچرخه": ['دو', 'چر', 'خه'],
  "درد": ['در', 'د'],
  "دردم": ['در', 'دم'],
  "دردت": ['در', 'دت'],
  "دردش": ['در', 'دش'],
  "دردمان": ['در', 'د', 'ما'],
  "دردتان": ['در', 'د', 'تا'],
  "دردشان": ['در', 'د', 'شا'],
  "درده": ['در', 'ده'],
  "دفع": ['د', 'فع'],
  "دفترم": ['دف', 'ت', 'رم'],
  "دفترت": ['دف', 'ت', 'رت'],
  "دفترش": ['دف', 'ت', 'رش'],
  "دفترمان": ['دف', 'ت', 'ر', 'ما'],
  "دفترتان": ['دف', 'ت', 'ر', 'تا'],
  "دفترشان": ['دف', 'ت', 'ر', 'شا'],
  "دیار": ['دی', 'یا', 'ر'],
  "دریا": ['در', 'یا'],
  "دوست": ['دس', 'ت'],
  "دوستی": ['دس', 'تی'],
  "دیارم": ['دی', 'یا', 'رم'],
  "دیارت": ['دی', 'یا', 'رت'],
  "دلباخته": ['د', 'ل', 'با', 'خ', 'ته'],
  "دلان": ['د', 'لا'],
  "دری": ['د', 'ری'],
  "دلم": ["د", 'لم'],
  "دلت": ["د", 'لت'],
  "دلش": ["د", 'لش'],
  
  // "دلمان": ["د", 'ل', 'ما'],
  // "دلتان": ["د", 'ل', 'تا'],
  // "دلشان": ["د", 'ل', 'شا'],
  
  "دویدن": ['د', 'وی', 'دن'],
  "دویدم": ['د', 'وی', 'دم'],
  "دویدی": ['د', 'وی', 'دی'],
  "دوید": ['د', 'وی', 'د'],
  
  "دویدیم": ['د', 'وی', 'دی', 'م'],
  "دویدید": ['د', 'وی', 'دی', 'د'],
  "دویدند": ['د', 'وی', 'دن', 'د'],

  "دهیم": ['د', 'هی', 'م'],
  "دهید": ['د', 'هی', 'د'],
  "دهند": ['د', 'هن', 'د'],

  "دود": ['دو', 'د'],
  "کود": ['کو', 'د'],
  "جود": ['جو', 'د'],
  "سود": ['سو', 'د'],
  "بود": ['بو', 'د'],
  "زود": ['زو', 'د'],
  "عود": ['عو', 'د'],
  "مود": ['مو', 'د'],
  "هود": ['هو', 'د'],
  "پود": ['پو', 'د'],

  "ذکر": ['ذک', 'ر'],

  "رود": ['رو', 'د'],
  "ردیف": ['ر', 'دی', 'ف'],
  "رفیق": ['ر', 'فی' , 'ق'],

  "سوی": ['سو', 'ی'],

  "لیوان": ['لی', 'وا', 'ن'],
  "لیوانم": ['لی', 'وا', 'نم'],
  "لیوانت": ['لی', 'وا', 'نت'],
  "لیوانش": ['لی', 'وا', 'نش'],
  "لیوانمان": ['لی', 'وا', 'نم', 'ما', 'ن'],
  "لیوانتان": ['لی', 'وا', 'نت', 'تا', 'ن'],
  "لیوانشان": ['لی', 'وا', 'نش', 'شا', 'ن'],

  "خیال": ['خی', 'یا', 'ل'],
  "خوشمزه": ['خو', 'ش', 'مز', 'زه'],
  "جرعه": ['جر', 'عه'],
  
  "علیم": ['ع', 'لی', 'م'],
  "حکیم": ['ح', 'کی', 'م'],
  "رحیم": ['ر', 'حی', 'م'],
  "شریف": ['ش', 'ری', 'ف'],
  "سلیس": ['س', 'لی', 'س'],

  "فرق": ['فر', 'ق'],
  "فریاد": ['فر', 'یا', 'د'],
  "فریادم": ['فر', 'یا', 'دم'],
  "فریادت": ['فر', 'یا', 'دت'],
  "فریادش": ['فر', 'یا', 'دش'],
  "فریادمان": ['فر', 'یا', 'د', 'ما', 'ن'],
  "فریادتان": ['فر', 'یا', 'د', 'تا', 'ن'],
  
  "قند": ['قن', 'د'],

  "قلب": ['قل', 'ب'],
  "قلبم": ['قل', 'بم'],
  "قلبت": ['قل', 'بت'],
  "قلبش": ['قل', 'بش'],
  "قلبمان": ['قل', 'ب', 'ما', 'ن'],
  "قلبتان": ['قل', 'ب', 'تا', 'ن'],
  "قلبشان": ['قل', 'ب', 'شا', 'ن'],

  "قافیه": ['قا', 'فی', 'یه'],
  "قهوه": ['قه', 'وه'],

  "قلتو": ['قل', 'تو'],
  "غمگین": ['غم', 'گی', 'ن'],
  "غمگینم": ['غم', 'گی', 'نم'],
  "غمگینی": ['غم', 'گی', 'نی'],
  "غمگینه": ['غم', 'گی', 'نه'],
  "غمگینیم": ['غم', 'گی', 'نی', 'م'],
  "غمگینید": ['غم', 'گی', 'نی', 'د'],
  "غمگینند": ['غم', 'گی', 'نن', 'د'],
  "غریبه": ['غ', 'ری', 'به'],

  "علم": ['عل', 'م'],
  "عشق": ['عش', 'ق'],
  "عشقم": ['عش', 'قم'],
  "عشقت": ['عش', 'قت'],
  "عشقش": ['عش', 'قش'],
  "عاشقان": ['عا', 'ش', 'قا', 'ن'],
  "عروسک": ['ع', 'رو', 'سک'],
  "عروسکم": ['ع', 'رو', 'س', 'کم'],
  "عروسکت": ['ع', 'رو', 'س', 'کت'],
  "عروسکش": ['ع', 'رو', 'س', 'کش'],
  
  "عجیب": ['ع', 'جی', 'ب'],
  "طبیعت": ['ط', 'بی', 'عت'],

  

  "کلمه": ['ک', 'لم', 'مه'],
  "کلمات": ['ک', 'لم', 'ما', 'ت'],
  "کنایه": ['ک', 'نا', 'یه'],

  "کمر": ['ک', 'مر'],
  "کمرم": ['ک', 'مر', 'رم'],
  "کمرت": ['ک', 'مر', 'رت'],
  "کمرش": ['ک', 'مر', 'رش'],
  "کمرمان": ['ک', 'رم', 'ر', 'ما'],
  "کمرتان": ['ک', 'رم', 'ر', 'تا'],
  "کمرشان": ['ک', 'رم', 'ر', 'شا'],
  "کیک": ['کی', 'ک'],
  "کیکم": ['کی', 'کم'],
  "کیکت": ['کی', 'کت'],
  "کیکش": ['کی', 'کش'],
  "کیکمان": ['کی', 'ک', 'ما'],
  "کیکتان": ['کی', 'ک', 'تا'],
  "کیکشان": ['کی', 'ک', 'شا'],

  "کردم": ['کر', 'دم'],
  "کردی": ['کر', 'دی'],
  "کرد": ['کر', 'د'],
  "کردیم": ['کر', 'دی', 'م'],
  "کردید": ['کر', 'دی', 'د'],
  "کردند": ['کر', 'دن', 'د'],
  "کبوتر": ['ک', 'بو', 'تر'],


  "گریستن": ['گ', 'ری', 'س', 'تن'],
  "گلچین": ['گل', 'چی', 'ن'],
  "گلچینم": ['گل', 'چی', 'نم'],
  "گلچینت": ['گل', 'چی', 'نت'],
  "گلچینش": ['گل', 'چی', 'نش'],
  "گلچینمان": ['گل', 'چی', 'نم', 'ما'],
  "گلچینتان": ['گل', 'چی', 'نت', 'تا'],
  "گلچینشان": ['گل', 'چی', 'نش', 'شا'],

  "گلوله": ['گو', 'لو', 'له'],
  "گفت": ['گف', 'ت'],

  "گویم": ['گو', 'یم'],
  "گویی": ['گو', 'یی'],
  "گوید": ['گو', 'ید'],
  "گوییم": ['گو', 'یی', 'م'],
  "گویید": ['گو', 'یی', 'د'],
  "گویند": ['گو', 'ین', 'د'],

  "هستم": ['هس', 'تم'],
  "هستی": ['هس', 'تی'],
  "هست": ['هس', 'ت'],
  "هستیم": ['هس', 'تی', "م"],
  "هستید": ['هس', 'تی', "د"],
  "هستند": ['هس', 'تن', "د"],

  "نباش": ['ن', 'با', 'ش'],
  "نشان": ['ن', 'شا'],
  "نشانم": ['ن', 'شا', 'نم'],
  "نشانت": ['ن', 'شا', 'نت'],
  "نشانش": ['ن', 'شا', 'نش'],

  "نمانم": ['ن', 'ما', 'نم'],
  "نمانی": ['ن', 'ما', 'نی'],
  "نماند": ['ن', 'ما', 'ند'],
  "نمانیم": ['ن', 'ما', 'نی', 'م'],
  "نمانید": ['ن', 'ما', 'نی', 'د'],
  "نمانند": ['ن', 'ما', 'نن', 'د'],

  "نوشته": ['ن', 'وش', 'ته'],
  "نوشتن":['ن', 'وش', 'تن'],
  "نوشتم":['ن', 'وش', 'تم'],
  "نوشتی": ['ن', 'وش', 'تی'],
  "نوشت": ['ن', 'وش', 'ت'],
  "نوشتیم": ['ن', 'وش', 'تی', "م"],
  "نوشتید": ['ن', 'وش', 'تی', "د"],
  "نوشتند": ['ن', 'وش', 'تن', "د"],
  
  "نویسم": ['ن', 'وی', 'سم'],
  "نویسی": ['ن', 'وی', 'سی'],
  "نویسد": ['ن', 'وی', 'سد'],
  "نویسیم": ['ن', 'وی', 'سی', 'م'],
  "نویسید": ['ن', 'وی', 'سی', 'د'],
  "نویسند": ['ن', 'وی', 'سن', 'د'],

  "نماند": ['ن', 'ما', 'ند'],
  "نبند": ['ن', 'بن', 'د'],

  "حسادت": ['ح','سا', 'دت'],
  "حسادتم": ['ح','سا', 'د', 'تم'],
  "حسادتت": ['ح','سا', 'د', 'تت'],
  "حسادتش": ['ح','سا', 'د', 'تش'],
  "حسادمان": ['ح','سا', 'د', 'ت', 'ما'],
  "حسادتان": ['ح','سا', 'د', 'ت', 'تا'],
  "حسادشان": ['ح','سا', 'د', 'ت', 'شا'],

  "چخوف": ['چ', 'خو', 'ف'],
  "طعنه": ['طع', 'نه'],
  "وقتی": ['وق', 'تی'],

  "ملکا": ['م', 'ل', 'کا'],
  "میگفتم": ['می', 'گف', 'تم'],
  "میگفتی": ['می', 'گف', 'تی'],
  "میگفت": ['می', 'گف', 'ت'],
  "میگفتیم": ['می', 'گف', 'تی', 'م'],
  "میگفتید": ['می', 'گف', 'تی', 'د'],
  "میگفتند": ['می', 'گف', 'تن', 'د'],
  "میزنم": ['می', 'ز', 'نم'],
  "میزنی": ['می', 'ز', 'نی'],
  "میزند": ['می', 'ز', 'ند'],
  "میزنیم": ['می', 'ز', 'نی', 'م'],
  "میزنید": ['می', 'ز', 'نی', 'د'],
  "میزنند": ['می', 'ز', 'نن', 'د'],
  
  "میرسد": ['می', 'ر', 'سد'],
  
  "محرم": ["مح", 'رم'],
  "محرمه": ["مح", 'ر', 'مه'],
  "مستطیل": ['مس', 'ت', 'طی', 'ل'],
  "مستطیلم": ['مس', 'ت', 'طی', 'لم'],
  "مستطیلت": ['مس', 'ت', 'طی', 'لت'],
  "مستطیلش": ['مس', 'ت', 'طی', 'لش'],
  "مستطیلمان": ['مس', 'ت', 'طی', 'ل', 'ما'],
  "مستطیلتان": ['مس', 'ت', 'طی', 'ل', 'تا'],
  "مستطیلشان": ['مس', 'ت', 'طی', 'ل', 'شا'],

  "نگفتم": ['ن', 'گف', 'تم'],
  "نمی": ['ن', 'می'],
  "نغمه": ['نغ', 'مه'],
  "نهنگ": ['ن', 'هن', 'گ'],
  "نهنگم": ['ن', 'هن', 'گم'],
  "نهنگت": ['ن', 'هن', 'گت'],
  "نهنگش": ['ن', 'هن', 'گش'],
  "نهنگمان": ['ن', 'هن', 'گم', 'ما'],
  "نهنگتان": ['ن', 'هن', 'گت', 'تا'],
  "نهنگشان": ['ن', 'هن', 'گش', 'شا'],
  
  "نگاه": ['ن', 'گا', 'ه'],
  "نگاهم": ['ن', 'گا', 'هم'],
  "نگاهت": ['ن', 'گا', 'هت'],
  "نگاهش": ['ن', 'گا', 'هش'],

  "نمیدهم": ['ن', 'می', 'د', 'هم'],
  "نمیدهی": ['ن', 'می', 'د', 'هی'],
  "نمیدهد": ['ن', 'می', 'د', 'هد'],
  "نمیدهیم": ['ن', 'می', 'د', 'هی', 'م'],
  "نمیدهید": ['ن', 'می', 'د', 'هی', 'د'],
  "نمیدهند": ['ن', 'می', 'د', 'هن', 'د'],
  
  "وزن": ['وز', 'ن'],
  "وسوسه": ['وس', 'و', 'سه'],

  "مفتخر": ['مف', 'تخ', 'خر'],
  "مردم": ['مر', 'دم'],
  "مرداس": ['مر', 'دا', 'س'],
  "مرد": ['مر', 'د'],
  "میوه": ['می', 'وه'],
  
  "مرغ": ['مر', 'غ'],
  "مرغم": ['مر', 'غم'],
  "مرغت": ['مر', 'غت'],
  "مرغش": ['مر', 'غش'],
  "مرغمان": ['مر', 'غ', 'ما'],
  "مرغتان": ['مر', 'غ', 'تا'],
  "مرغشان": ['مر', 'غ', 'شا'],

  "میخوانمش": ['می', 'خا', 'نم', 'مش'],
  "مسیری": ['م', 'سی', 'ری'],
  "مبارکست": ['م', 'با', 'رک', 'کس', 'ت'],
  "منیژه": ['م', 'نی', 'ژه'],
  "مهتاب": ['ب', 'تا', 'ب'],
  "معتاد": ['مع', 'تا', 'د'],
  "میام": ['می', 'یا', 'م'],
  "میای": ['می', 'یا', 'ی'],
  "میاد": ['می', 'یا', 'د'],
  "میایم": ['می', 'یا', 'یم'],
  "میاین": ['می', 'یا', 'ین'],
  "میان": ['می', 'یا'],
  "مثل": ['مث', 'ل'],

  "یاد": ['یا', 'د'],
  "یادگار": ['یا', 'د', 'گا', 'ر'],
  "یادگاری": ['یا', 'د', 'گا', 'ری'],
  "یار": ['یا', 'ر'],
  "یکی": ['ی', 'کی'],
  "یاس": ['یا', 'س'],
  "یاسم": ['یا', 'سم'],
  "یاسی": ['یا', 'سی'],
  "یوز": ['یو', 'ز'],
  "یوزم": ['یو', 'زم'],
  "یوزی": ['یو', 'زی'],

  "ویران": ['وی', 'را', 'ن'],
  "ویرانم": ['وی', 'را', 'نم'],
  "ویرانی": ['وی', 'را', 'نی'],
  "ویرانیم": ['وی', 'را', 'نی', 'م'],
  "ویرانید": ['وی', 'را', 'نی', 'د'],
  "ویرانند": ['وی', 'را', 'نن', 'د'],
  "همیشه": ['ه', 'می', 'شه'],
}

// wordList = [];

const dbSyllables = {
  'یک': '-',
  'دو': '-',
  'سه': '-',
  // ا
  'اب': '-',
  'اپ': '-',
  'اث': '-',
  'اج': '-',
  'اح': '-',
  'اخ': '-',
  'اد': '-',
  'اذ': '-',
  'ار': '-',
  'از': '-',
  'اژ': '-',
  'اس': '-',
  'اش': '-',
  'اص': '-',
  'اض': '-',
  'اط': '-',
  'اظ': '-',
  'اع': '-',
  'اغ': '-',
  'اف': '-',
  'اق': '-',
  'اک': '-',
  'ال': '-',
  'ام': '-',
  'ان': '-',
  'او': '-',
  'اه': '-',
  'ای': '-',
  // ب
  'با': '-',
  'بب': '-',
  'بپ': '-',
  'بت': '-',
  'بج': '-',
  'بچ': '-',
  'بح': '-',
  'بخ': '-',
  'بد': '-',
  'بذ': '-',
  'بر': '-',
  'بز': '-',
  'بژ': '-',
  'بس': '-',
  'بش': '-',
  'بص': '-',
  'بض': '-',
  'بط': '-',
  'بع': '-',
  'بغ': '-',
  'بف': '-',
  'بک': '-',
  'بگ': '-',
  'بل': '-',
  'بم': '-',
  'بن': '-',
  'بو': '-',
  'بی': '-',
  'به': '-',
  // پ
  'پا': '-',
  'پپ': '-',
  'پت': '-',
  'پچ': '-',
  'پخ': '-',
  'پد': '-',
  'پذ': '-',
  'پر': '-',
  'پز': '-',
  'پژ': '-',
  'پس': '-',
  'پش': '-',
  'پغ': '-',
  'پف': '-',
  'پک': '-',
  'پگ': '-',
  'پل': '-',
  'پم': '-',
  'پن': '-',
  'پو': '-',
  'په': '-',
  'پی': '-',
  // ت
  'تا': '-',
  'تب': '-',
  'تپ': '-',
  'تت': '-',
  'ته': '-',
  'تح': '-',
  'تخ': '-',
  'تج': '-',
  'تف': '-',
  'تس': '-',
  'تش': '-',
  'تل': '-',
  'تم': '-',
  'تک': '-',
  'تگ': '-',
  'تن': '-',
  'تر': '-',
  'تز': '-',
  'تو': '-',
  'تص': '-',
  'تد': '-',
  'تی': '-',
  // ث
  'ثا': '-',
  'ثب': '-',
  'ثت': '-',
  'ثخ': '-',
  'ثن': '-',
  // ج
  'جا': '-',
  'جب': '-',
  'جت': '-',
  'جج': '-',
  'جخ': '-',
  'جر': '-',
  'جز': '-',
  'جس': '-',
  'جش': '-',
  'جل': '-',
  'جم': '-',
  'جن': '-',
  'جو': '-',
  'جی': '-',
  // چ
  'چا': '-',
  'چب': '-',
  'چت': '-',
  'چخ': '-',
  'چر': '-',
  'چس': '-',
  'چش': '-',
  'چل': '-',
  'چم': '-',
  'چن': '-',
  'چو': '-',
  'چی': '-',
  'جه': '-',
  // ح
  'حا': '-',
  'حب': '-',
  'حت': '-',
  'حج': '-',
  'حر': '-',
  'حس': '-',
  'حش': '-',
  'حل': '-',
  'حم': '-',
  'حن': '-',
  'حو': '-',
  'حی': '-',
  // خ
  'خا': '-',
  'خج': '-',
  'خد': '-',
  'خر': '-',
  'خش': '-',
  'خط': '-',
  'خل': '-',
  'خم': '-',
  'خن': '-',
  'خو': '-',
  'خس': '-',
  'خی': '-',
  // د
  'دا': '-',
  'دب': '-',
  'دت': '-',
  'دج': '-',
  'در': '-',
  'دس': '-',
  'دش': '-',
  'دل': '-',
  'دم': '-',
  'دن': '-',
  'دو': '-',
  'دی': '-',
  // ذ
  'ذو': '-',
  'ذی': '-',
  // ر
  'را': '-',
  'رب': '-',
  'رپ': '-',
  'رت': '-',
  'رج': '-',
  'رح': '-',
  'رخ': '-',
  'رد': '-',
  'رذ': '-',
  'رر': '-',
  'رز': '-',
  'رژ': '-',
  'رس': '-',
  'رش': '-',
  'رع': '-',
  'رغ': '-',
  'رف': '-',
  'رک': '-',
  'رگ': '-',
  'رل': '-',
  'رم': '-',
  'رو': '-',
  'ری': '-',
  // ز
  'زا': '-',
  'زب': '-',
  'زت': '-',
  'زج': '-',
  'زر': '-',
  'زس': '-',
  'زش': '-',
  'زل': '-',
  'زم': '-',
  'زن': '-',
  'زو': '-',
  'زی': '-',
  // ژ
  'ژا': '-',
  'ژب': '-',
  'ژت': '-',
  'ژر': '-',
  'ژس': '-',
  // س
  'سا': '-',
  'سب': '-',
  'ست': '-',
  'سج': '-',
  'سر': '-',
  'سز': '-',
  'سش': '-',
  'سل': '-',
  'سم': '-',
  'سن': '-',
  'سو': '-',
  'سه': '-',
  'سی': '-',
  // ش
  'شا': '-',
  'شب': '-',
  'شت': '-',
  'شج': '-',
  'شر': '-',
  'شس': '-',
  'شع': '-',
  'شل': '-',
  'شم': '-',
  'شن': '-',
  'شو': '-',
  'شی': '-',
  // ص
  'صا': '-',
  'صب': '-',
  'صت': '-',
  'صن': '-',
  'صو': '-',
  'صی': '-',
  // ض
  'ضا': '-',
  'ضب': '-',
  'دت': '-',
  'ضر': '-',
  'دس': '-',
  'دش': '-',
  // ط
  'طا': '-',
  'طب': '-',
  'تت': '-',
  'طر': '-',
  'تس': '-',
  // ظ
  'ظا': '-',
  'ظب': '-',
  'ظت': '-',
  'ظن': '-',
  'ظم': '-',
  // ع
  'عا': '-',
  'عب': '-',
  'عت': '-',
  'عج': '-',
  'عر': '-',
  'عز': '-',
  'عس': '-',
  'عش': '-',
  'عل': '-',
  'عم': '-',
  'عن': '-',
  'عو': '-',
  'عی': '-',
  // غ
  'غا': '-',
  'غب': '-',
  'غت': '-',
  'غر': '-',
  'غس': '-',
  'غم': '-',
  'غش': '-',
  // ف
  'فا': '-',
  'فب': '-',
  'فت': '-',
  'فج': '-',
  'فر': '-',
  'فز': '-',
  'فس': '-',
  'فش': '-',
  'فل': '-',
  'فم': '-',
  'فن': '-',
  'فو': '-',
  'فی': '-',
  // ق
  'قا': '-',
  'قب': '-',
  'قت': '-',
  'قج': '-',
  'قر': '-',
  'قز': '-',
  'قس': '-',
  'قش': '-',
  'قل': '-',
  'قم': '-',
  'قن': '-',
  'قو': '-',
  'قی': '-',
  // ک
  'کا': '-',
  'کب': '-',
  'کت': '-',
  'کج': '-',
  'کر': '-',
  'کز': '-',
  'کس': '-',
  'کش': '-',
  'کل': '-',
  'کم': '-',
  'کن': '-',
  'کو': '-',
  'کی': '-',
  // گ
  'گا': '-',
  'گب': '-',
  'گت': '-',
  'گج': '-',
  'گر': '-',
  'گس': '-',
  'گش': '-',
  'گل': '-',
  'گم': '-',
  'گن': '-',
  'گو': '-',
  'گی': '-',
  // ل
  'لا': '-',
  'لب': '-',
  'لت': '-',
  'لج': '-',
  'لر': '-',
  'لز': '-',
  'لس': '-',
  'لش': '-',
  'لک': '-',
  'لم': '-',
  'لن': '-',
  'لو': '-',
  'لی': '-',
  // م
  'ما': '-',
  'مب': '-',
  'مت': '-',
  'مج': '-',
  'مح': '-',
  'مخ': '-',
  'مر': '-',
  'مز': '-',
  'مس': '-',
  'مش': '-',
  'مل': '-',
  'مم': '-',
  'من': '-',
  'مو': '-',
  'می': '-',
  // ن
  'نا': '-',
  'نب': '-',
  'نت': '-',
  'نج': '-',
  'نر': '-',
  'نز': '-',
  'نس': '-',
  'نش': '-',
  'نل': '-',
  'نم': '-',
  'نن': '-',
  'نو': '-',
  'نی': '-',
  'نه': '-',
  // ه
  'ها': '-',
  'هب': '-',
  'هت': '-',
  'هج': '-',
  'هر': '-',
  'هز': '-',
  'هس': '-',
  'هش': '-',
  'هل': '-',
  'هم': '-',
  'هن': '-',
  'هو': '-',
  'هی': '-',
};


// این حروف میتوانند هم نشانه صامت باشند و هم مصوت.
function isSmallVowels(char) {
  return char === 'و' || char === 'ا' || char === 'ه' || char === 'ی'; // اضافه کردن شرایط خاص
}

// function isBigVowels()
// {
//   return char === 'گ' || char === 'ث'; // اضافه کردن شرایط خاص
// }

function isMidelVowels(char) {
  return char === 'ل' || char === 'ر' || char === 'ز'; // اضافه کردن شرایط خاص
}

function extractSyllablesV(words, syllables, i)
{
  let lastWord = '';
  let lastChar = '';
  if(i>0)
  {
    lastWord = words[i-1];
    lastChar = lastWord.slice(lastWord.length - 1);
  }
  const lastSyllableIndex = syllables.length -1;
  let lastSyllable = syllables[lastSyllableIndex];
  if(lastSyllable != null)
  {
    // console.log(lastSyllable.slice(lastSyllable.length -1));
    if(lastSyllable.slice(lastSyllable.length -1) != lastChar)
    {
      return [`${lastChar}و`];
    }
    else
    {
      if(lastSyllable.length == 1)
      {
        syllables[lastSyllableIndex] = lastSyllable + 'و';
        return [];
      }
      else
      {
        return [lastChar + 'و'];
      }
    }
    
    // else
    // {
    //   const lastCharIndex = lastSyllable.length - 1;
    //   return [lastSyllable.charAt(lastCharIndex) + 'و']
    // }
    return 'و';
  }
  else
  {
    return 'و';
  }
}

function extractSyllablesAndLettersFromWord(word, syllables) {
  const result = [];
  let i = 0;
  while (i < word.length) {
    const twoChars = word.slice(i, i + 2);
    const firstChar = word.slice(i, i + 1);
    const secChar = word.slice(i+1, i + 2);
    const thirdChar = word.slice(i+2, i + 3);
    // console.log(twoChars, i);
    if (word.length - i == 1 && firstChar == 'ن' && syllables[-1] == 'با') {
      break; // پایان حلقه
    }
    if (word.length - i < 3) {
      // console.log(word.slice(i, word.length));
      result.push(word.slice(i)); // اضافه کردن کاراکتر باقی‌مانده
      break; // پایان حلقه
    }

    if(twoChars == 'ءا') { result.push('ءا'); i+= 2; continue;}
    if(word.length == 3 && isSmallVowels(secChar)) { result.push(`${firstChar}${secChar}`); i+= 2; continue; }
    if(isSmallVowels(firstChar) && isSmallVowels(secChar)) { result.push(`${firstChar}${secChar}`); i+= 2; continue; }
    if(isSmallVowels(secChar) && isSmallVowels(thirdChar)) {
      result.push(firstChar);
      result.push(`${secChar}${thirdChar}`);
      i+= 3;
      continue;
    }
    
    if (dbSyllables[twoChars] != null) {
      result.push(twoChars);
      i += 2; // دو کاراکتر را گذر می‌کنیم
    } else {
      result.push(word.charAt(i)); // اضافه کردن یک کاراکتر به نتیجه
      i += 1; // یک کاراکتر را گذر می‌کنیم
    }
  }
  return result;
}

function checkComma(words, i)
{
  if(i == 0) { return false }
  const lastWord = words[i-1];
  const currWord = words[i];
  const endCharLastWord = lastWord[lastWord.length - 1];
  if(endCharLastWord == '،' && currWord.length == 1 )
  {
    return [currWord];
  }
  else
  {
    return false;
  }
}

function filterWordChar(str)
{
  let newWord = str.replaceAll('خوا', 'خا');
  newWord = newWord.replaceAll('آ', 'ءا');
  return newWord;
}

function filterWordSpecialChar(str)
{
  let newWord = str.replaceAll('+', '');
  newWord = newWord.replaceAll('،', '');
  return newWord;
}

function extractSyllablesAndLettersFromText(text) {
  const cleanedText = text.replace(/[.'"\]\[؟?,\/#!$%\^&\*;:{}=\-_`~()]/g, '').replace(/\s+/g, ' ').trim();
  const words = cleanedText.split(' ');
  const allResults = [];

  words.forEach((word, i) => {
    // این قسمت برای اینه که اگر خواستیم و یک هجای جداگانه حساب بشه با کاما جدا میکنیمش
    const comma = checkComma(words, i);
    let syllablesAndLetters = [];
    let newWord = filterWordSpecialChar(filterWordChar(word));
    if(comma != false)
    {
      if(wordList[filterWordSpecialChar(word)] != null)
      {
        syllablesAndLetters = wordList[filterWordSpecialChar(word)];
      }
      else
      {
        syllablesAndLetters = comma;
      }
      
    }
    else if(newWord == 'و')
    {
      syllablesAndLetters = extractSyllablesV(words, allResults, i);
      allResults.push(...syllablesAndLetters);
      return;
    }
    else
    {
      // if(newWord.length < 3)
      // {
      //   syllablesAndLetters = extractSyllablesAndLettersFromSmallWord(newWord);
      // }
      // else
      // {
        // console.log(wordList[newWord], newWord);
        if(wordList[filterWordSpecialChar(word)] != null)
        {
          syllablesAndLetters = wordList[filterWordSpecialChar(word)];
        }
        else
        {
          syllablesAndLetters = extractSyllablesAndLettersFromWord(newWord, allResults);
          // console.log(syllablesAndLetters);
        }
      // }
    }
    allResults.push(...syllablesAndLetters); // اضافه کردن به آرایه کلی
  });

  return allResults;
}
